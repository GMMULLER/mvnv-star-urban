---
layout: default

labels:
  size: Size
  type: Type
  node_attr_size: No. of Node Attributes 
  node_attr_type: Types of Node Attributes 
  edge_attr_size: No. of Edge Attributes
  edge_attr_type: Types of Edge Attributes 
  structure: Structures
---
<div class="publication">


    <article class="publication-content-left">
        <form id = 'wizard_panel'></form>
    </article>
    <!-- {% include wizard_panel.html %} -->
  
      <article class="publication-content-right">
          <h1>Recommended Techniques</h1>
          {% for technique in site.techniques reversed  %}
            {% if technique.type == "node-link" %}
              {% include technique_list_entry.html %}
            {% endif %}
          {% endfor %}
      
      
        </article>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"></script>
        <script src="{{base.url}}/scripts/compute_scores.js"></script>

        <script>

          let allScores = {};
          let techniques = {};
          let categories = JSON.parse(('{{layout.labels}}'.replace(/=>/g, ':')))

        '{% for technique in site.techniques reversed  %}'
          allScores['{{technique.key}}']=JSON.parse(('{{technique.scores}}'.replace(/=>/g, ':')));
          allScores['{{technique.key}}'].title='{{technique.title}}';
          allScores['{{technique.key}}'].description='{{technique.description}}';
          allScores['{{technique.key}}'].image='{{technique.image}}';
        '{% endfor %}' 

        console.log(allScores)

      let groups = d3.select('#wizard_panel').selectAll('div').data(Object.keys(categories));

      let groupsEnter = groups.enter().append('div'); 


      groupsEnter.append('h1');
      groupsEnter.append('group')
      
      groups = groupsEnter.merge(groups);
      
      groups.select('group')
      .attr('class',d=> d === 'structure' ? 'stacked-radio' : 'inline-radio')

      groups.select('h1').text(d=>categories[d]);

      let options = groups
      .select('group')
      .selectAll('div').data((d)=>Object.keys(allScores['node-link'][d]).map(
        option=>{return {category:d,option}})
        );

      let optionsEnter = options.enter().append('div');
      optionsEnter.append('input')
      .attr('type','radio');

      options = optionsEnter.merge(options);

      options.select('input')
      .attr('name',(d)=>d.category)
      .attr('label',d=>d.option)
      .property('checked',(d,i)=>i==0)
      .on('click',(d)=>{
        let scores = compute_scores(allScores).sort((a,b)=>b.value - a.value);
        d3.selectAll('.paper-list-block')
            .remove();


      render_technique(scores[0])
      render_technique(scores[1])
      render_technique(scores[2])
      });


      optionsEnter.append('label')
      .text(d=>d.option);

      let scores = compute_scores(allScores).sort((a,b)=>b.value - a.value);
      console.log(scores)

      '{% assign technique = site.techniques | where:"key", "integrated"  | first %}'
        
      console.log( 't is ', '{{test}}');
      // d3.select('#wizard_panel').selectAll('input').filter(function(d){console.log(d3.select(this)); return true});

      
        // console.log(allScores)


       </script>

    </div>
  

    


